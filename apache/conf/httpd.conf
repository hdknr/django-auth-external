<VirtualHost *:80>
    # sudo ln -s http.conf /etc/apache2/site-enabled/sample.conf
    # vi http.conf
    # sudo apache2ctl graceful

    ServerAdmin admin@harajuku-tech.org
    ServerName  trac.harajuku-tech.org
    DocumentRoot /home/hdknr/ve/v16/src/authx/apache/www

    LogLevel debug
    ErrorLog /home/hdknr/ve/v16/src/authx/apache/logs/error.trac.log
    Customlog /home/hdknr/ve/v16/src/authx/apache/logs/access.trac.log combined

    DefineExternalAuth django_auth environment "/home/hdknr/ve/v16/bin/authx_script.py /home/hdknr/ve/v16/src/authx/web/app/settings.py"
    DefineExternalGroup django_group environment "/home/hdknr/ve/v16/bin/authx_script.py /home/hdknr/ve/v16/src/authx/web/app/settings.py authn group"


    <Location /system >
    SetEnv DJ_LOGGER_FILE mode_auth_external

    AuthType Basic
    AuthName externalauth
    AuthBasicProvider external
    AuthExternal django_auth
    GroupExternal django_group
    Require group system tact-admin 
    Satisfy all
    </Location>

    <Location /curara >
    AuthType Basic
    AuthName externalauth
    AuthBasicProvider external
    AuthExternal django_auth
    GroupExternal django_group
    Require group curara
    </Location>

</VirtualHost>

<VirtualHost *:80>
    ServerAdmin admin@harajuku-tech.org
    ServerName  svn.harajuku-tech.org
    DocumentRoot /home/hdknr/ve/v16/src/authx/apache/svn

    LogLevel debug
    ErrorLog /home/hdknr/ve/v16/src/authx/apache/logs/error.svn.log
    Customlog /home/hdknr/ve/v16/src/authx/apache/logs/access.svn.log combined


    <Location /system >
        AuthType Basic
        AuthName "Mod-Wsgi Basic Authentication"
        AuthBasicProvider wsgi
        WSGIAuthUserScript  /home/hdknr/ve/v16/bin/djauth.py
        WSGIAuthGroupScript /home/hdknr/ve/v16/bin/djauth.py
#        Require valid-user     #commented for group checking
        Require group system
    </Location>

</VirtualHost>
